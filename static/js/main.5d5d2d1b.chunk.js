(this.webpackJsonppolidata=this.webpackJsonppolidata||[]).push([[0],{58:function(e,t,a){e.exports=a(68)},63:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),s=(a(63),a(112)),c=a(114),l=a(47),u=Object(l.a)({styledAppBar:{backgroundColor:"#0070c0"},styledLogo:{maxWidth:64},styledSpanName:{marginLeft:"10px",fontSize:".9rem",fontWeight:"bold"}}),d=function(e){var t=e.data,a=e.isLoading,n=e.isError,o=u();return r.a.createElement(s.a,{className:o.styledAppBar},r.a.createElement(c.a,null,r.a.createElement("img",{src:"logo.png",alt:"logo",className:o.styledLogo}),!n&&!a&&t&&r.a.createElement("span",{className:o.styledSpanName},t.apellido1?"".concat(t.nombre1," ").concat(t.apellido1):t.nombre1)))},p=a(15),m=a.n(p),f=a(13),E=a(124),g=a(127),b=a(116),y=a(115),h=a(123),v=Object(l.a)({styledWarning:function(e){return{color:"#f44336",display:e.visible?"block":"none"}}}),j=Object(l.a)({styledRadioContainer:{marginBottom:"10px"},styledRadioGroup:{flexDirection:"row !important"},styledTextField:{margin:"10px 0 20px !important"},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"65vh"}}),x=function(e){var t=v(e);return r.a.createElement(r.a.Fragment,null,"DIRECCIONES"===e.idformulario?r.a.createElement("div",{className:t.styledWarning},"Debe completar este campo"):r.a.createElement("div",{className:t.styledWarning},"Debe seleccionar una opci\xf3n"))},O=function(e){var t=e.data,a=e.error,n=e.setFormAnswer,o=e.setInputDirecciones,i=e.idformulario,s=e.getIndexOf,c=e.formError,l=j(),u=function(e,t,a){return function(n){o(n.target.value,e,t,a)}},d=function(e){n(e.target.value)};return r.a.createElement(r.a.Fragment,null,!a&&t.length?t.map((function(e,t){return r.a.createElement("div",{key:e.idpregunta},"DIRECCIONES"===i?r.a.createElement(r.a.Fragment,null,e.respuestas.length&&e.respuestas.map((function(a){return r.a.createElement(y.a,{key:a.idrespuesta,container:!0,direction:"column",alignItems:"center",justify:"center",spacing:1,style:{width:"100%"}},r.a.createElement(y.a,{style:{width:"100%",marginBottom:"15px"},item:!0,xs:12,sm:6,md:4},r.a.createElement(h.a,{style:{width:"100%"},required:!0,label:a.respuesta,onChange:u(t),defaultValue:""===a.texto?null!==s(a.respuesta)?s(a.respuesta).texto:"":a.texto,variant:"outlined"}),r.a.createElement(x,{idformulario:i,visible:c.includes(e.idpregunta)})))}))):r.a.createElement("div",{className:l.styledRadioContainer,key:e.idpregunta},r.a.createElement(g.a,{className:l.styledRadioGroup,defaultValue:"".concat(t,"-").concat(e.idrespuesta,"-").concat(e.respuesta),onChange:d},e.respuestas.length&&e.respuestas.map((function(e){return r.a.createElement("div",{key:e.idrespuesta},r.a.createElement(b.a,{value:"".concat(t,"-").concat(e.idrespuesta,"-").concat(e.respuesta),control:r.a.createElement(E.a,{color:"primary"}),label:e.respuesta}))}))),r.a.createElement(x,{idformulario:i,visible:c.includes(e.idpregunta)})))})):r.a.createElement("h2",null,"Disculpe, ha ocurrido un error"))},w=a(117),C=Object(l.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}})),S=function(){var e=C();return r.a.createElement("div",{className:e.root},r.a.createElement(w.a,{size:60}))},N=function(e,t){var a=Object(n.useState)(),r=Object(f.a)(a,2),o=r[0],i=r[1],s=Object(n.useState)(!1),c=Object(f.a)(s,2),l=c[0],u=c[1],d=Object(n.useState)(!1),p=Object(f.a)(d,2),E=p[0],g=p[1];return Object(n.useEffect)((function(){!function(e,t){var a,n,r;m.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return g(!1),u(!0),o.prev=2,a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)},o.next=6,m.a.awrap(fetch(e,a));case 6:return n=o.sent,o.next=9,m.a.awrap(n.json());case 9:r=o.sent,i(r),g(!1),u(!1),o.next=19;break;case 15:o.prev=15,o.t0=o.catch(2),g(!0),u(!1);case 19:case"end":return o.stop()}}),null,null,[[2,15]])}(e,t),g(!1),u(!1)}),[e]),{dataPost:o,isLoadingPost:l,isErrorPost:E}},F=a(39),I={formularios:[],qtyFormularios:0},P=function(e,t){var a,n,r,o,i,s=e.formularios;switch(t.type){case"SET_JSON":return Object(F.a)({},e,{formularios:t.payload,qtyFormularios:t.payload.length});case"SET_ANSWER":return a=s.findIndex((function(e){return e.id===t.id})),r=(n=t.payload.split("-"))[0],o=n[1],i=n[2],s[a].preguntas[r].idrespuesta=o,s[a].preguntas[r].respuesta=i,Object(F.a)({},e,{formularios:s});case"SET_DIRECCIONES":return a=s.findIndex((function(e){return e.id===t.id})),n=t.payload.val,r=t.payload.indexPregunta,i=t.payload.val,s[a].preguntas[r].respuestas[0].texto=i,Object(F.a)({},e,{formularios:s});default:return e}},k=a(118),T=a(126),R=a(121),W=a(120),A=a(119),L=a(128),D=Object(l.a)({styledFormsContainer:{marginTop:"60px",height:"calc(100vh - 60px)"},styledFormContainer:{textAlign:"center"}}),z=function(e){var t=e.id,a=e.index,o=e.data,i=e.dataPersona,s=e.title,c=e.message,l=e.state,u=e.isError,d=e.idformulario,p=e.dispatch,E=Object(n.useState)(!1),g=Object(f.a)(E,2),b=g[0],y=g[1],h=Object(n.useState)([]),v=Object(f.a)(h,2),j=v[0],x=v[1],w=Object(n.useState)(!1),C=Object(f.a)(w,2),S=C[0],N=C[1],F=Object(n.useState)(!1),I=Object(f.a)(F,2),P=(I[0],I[1]),D=function(){y(!1)},z=function(e,a){p(function(e,t){return{id:e,payload:t,type:"SET_DIRECCIONES"}}(t,{val:e,indexPregunta:a}))},B={Correo:"EM",Celular:"TC",Twitter:"TW"},J=function(e){var t=B[e],a=null;return i.direcciones.forEach((function(e){e.idrespuesta!==t||(a=e)})),a},_=function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://f2020.azurewebsites.net/api/FaroFormularioPersonaPost?code=rkmGB0kHPzpU/Nxb7L8NT1PAw6jmOxslIH2eXiyjh9vmFIjFRFblAw==",P(!1),N(!0),t.prev=3,e={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(l.formularios[a])},t.next=7,m.a.awrap(fetch("https://f2020.azurewebsites.net/api/FaroFormularioPersonaPost?code=rkmGB0kHPzpU/Nxb7L8NT1PAw6jmOxslIH2eXiyjh9vmFIjFRFblAw==",e));case 7:P(!1),N(!1),y(!1),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),P(!0),N(!1);case 16:case"end":return t.stop()}}),null,null,[[3,12]])};return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{variant:"outlined",color:"primary",onClick:function(){y(!0)}},s),r.a.createElement(T.a,{fullWidth:!0,maxWidth:"md",open:b,onClose:D,"aria-labelledby":"form-dialog-title"},r.a.createElement(A.a,{id:"form-dialog-title"},c.encabezado),r.a.createElement(W.a,{dividers:!0},r.a.createElement(L.a,{fullWidth:!0,component:"fieldset"},r.a.createElement(O,{data:o&&o,error:u,setFormAnswer:function(e){p(function(e,t){return{id:e,payload:t,type:"SET_ANSWER"}}(t,e))},setInputDirecciones:z,idformulario:d,getIndexOf:J,formError:j}))),r.a.createElement(R.a,null,r.a.createElement(k.a,{onClick:D,color:"primary"},"Cancelar"),r.a.createElement(k.a,{onClick:function(){var e=[];"DIRECCIONES"===d?o.forEach((function(t,a){t.respuestas.forEach((function(n){""!==n.texto||null!==J(n.respuesta)&&""!==J(n.respuesta).texto||(e.push(t.idpregunta),x([].concat(e))),null!==J(n.respuesta)&&""!==J(n.respuesta).texto&&z(J(n.respuesta).texto,a)}))})):o.forEach((function(t){0===Number(t.idrespuesta)&&(e.push(t.idpregunta),x([].concat(e)))})),e.length||(x([]),_())},color:"primary"},S?"Enviando...":"Enviar"))))},B=function(e){var t=e.dataPersona,a=e.cedula,o=D(),i=Object(n.useReducer)(P,I),s=Object(f.a)(i,2),c=s[0],l=s[1],u=N("https://f2020.azurewebsites.net/api/FaroFormulariosPersona?code=nbjfp6Cn8Mx3/WPr3DCwMXV8EZbfw2CB8UIMOTyfW8TYtlBSsbXGqw==",{id:{cedula:a}}),d=u.dataPost,p=u.isLoadingPost,m=u.isErrorPost;return Object(n.useEffect)((function(){!p&&d&&l({payload:d,type:"SET_JSON"})}),[d,p]),r.a.createElement(y.a,{className:o.styledFormsContainer,direction:"row",justify:"center",alignItems:"center",container:!0,spacing:0},d&&!p?d.map((function(e,a){return r.a.createElement(y.a,{key:e.id,className:o.styledFormContainer,item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(z,{index:a,state:c,isError:m,id:e.id,idformulario:e.idformulario,dispatch:l,data:e.preguntas,dataPersona:t,message:e.mensaje,title:e.idformulario}))})):r.a.createElement(S,null))},J=a(122),_=function(e){var t=Object(n.useState)(),a=Object(f.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(!1),s=Object(f.a)(i,2),c=s[0],l=s[1],u=Object(n.useState)(!1),d=Object(f.a)(u,2),p=d[0],E=d[1];return Object(n.useEffect)((function(){!function(e){var t,a;m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return E(!1),l(!0),n.prev=2,n.next=5,m.a.awrap(fetch(e));case 5:return t=n.sent,n.next=8,m.a.awrap(t.json());case 8:a=n.sent,o(a),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),E(!0);case 15:l(!1);case 16:case"end":return n.stop()}}),null,null,[[2,12]])}(e)}),[e]),{data:r,isLoading:c,isError:p}};var G=function(){var e=new URL(window.location.href).searchParams.get("cedula"),t=_("https://openfaroapi.azurewebsites.net/api/personagetv2?idorganizacion=10&identificacion="+e),a=t.data,n=t.isLoading,o=t.isError;return r.a.createElement("div",{className:"App"},r.a.createElement(J.a,null),r.a.createElement(d,{data:a,isLoading:n,isError:o}),r.a.createElement(B,{dataPersona:a,cedula:e}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[58,1,2]]]);
//# sourceMappingURL=main.5d5d2d1b.chunk.js.map