(this.webpackJsonppolidata=this.webpackJsonppolidata||[]).push([[0],{44:function(e,t,a){e.exports=a(55)},49:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),s=(a(49),a(90)),i=a(92),l=a(34),u=a(13),d=a.n(u),p=a(12),m=function(e){var t=Object(n.useState)(),a=Object(p.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(!1),s=Object(p.a)(c,2),i=s[0],l=s[1],u=Object(n.useState)(!1),m=Object(p.a)(u,2),f=m[0],b=m[1];return Object(n.useEffect)((function(){!function(e){var t,a;d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return b(!1),l(!0),n.prev=2,n.next=5,d.a.awrap(fetch(e));case 5:return t=n.sent,n.next=8,d.a.awrap(t.json());case 8:a=n.sent,o(a),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),b(!0);case 15:l(!1);case 16:case"end":return n.stop()}}),null,null,[[2,12]])}(e)}),[e]),{data:r,isLoading:i,isError:f}},f=Object(l.a)({styledAppBar:{backgroundColor:"#0070c0"},styledLogo:{maxWidth:64},styledSpanName:{marginLeft:"10px",fontSize:".9rem",fontWeight:"bold"}}),b=function(e){var t=e.cedula,a=f(),n=m("https://openfaroapi.azurewebsites.net/api/personaget?identificacion="+t),o=n.data,c=n.isLoading,l=n.isError;return r.a.createElement(s.a,{className:a.styledAppBar},r.a.createElement(i.a,null,r.a.createElement("img",{src:"logo.png",alt:"logo",className:a.styledLogo}),!l&&!c&&o&&r.a.createElement("span",{className:a.styledSpanName},o.apellido1?"".concat(o.nombre1," ").concat(o.apellido1):o.nombre1)))},g=a(102),E=a(104),y=a(93),h=a(106),j=Object(l.a)({styledWarning:function(e){return{color:"#f44336",display:e.visible?"block":"none"}}}),v=Object(l.a)({styledRadioContainer:{marginBottom:"10px"},styledRadioGroup:{flexDirection:"row !important"},styledTextField:{margin:"10px 0 20px !important"},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"65vh"}}),O=function(e){var t=j(e);return r.a.createElement("div",{className:t.styledWarning},"Debe seleccionar una opci\xf3n")},w=function(e){var t=e.data,a=e.error,n=e.setFormAnswer,o=e.formError,c=v(),s=function(e){n(e.target.value)};return r.a.createElement(r.a.Fragment,null,!a&&t.length?t.map((function(e,t){return r.a.createElement("div",{className:c.styledRadioContainer,key:e.idpregunta},r.a.createElement(h.a,{component:"legend"},e.pregunta),r.a.createElement(E.a,{className:c.styledRadioGroup,defaultValue:"".concat(t,"-").concat(e.idrespuesta,"-").concat(e.respuesta),onChange:s},e.respuestas.length&&e.respuestas.map((function(e){return r.a.createElement(y.a,{key:e.idrespuesta,value:"".concat(t,"-").concat(e.idrespuesta,"-").concat(e.respuesta),control:r.a.createElement(g.a,{color:"primary"}),label:e.respuesta})}))),r.a.createElement(O,{visible:o.includes(e.idpregunta)}))})):r.a.createElement("h2",null,"Disculpe, ha ocurrido un error"))},x=a(94),S=Object(l.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}})),F=function(){var e=S();return r.a.createElement("div",{className:e.root},r.a.createElement(x.a,{size:60}))},N=function(e,t){var a=Object(n.useState)(),r=Object(p.a)(a,2),o=r[0],c=r[1],s=Object(n.useState)(!1),i=Object(p.a)(s,2),l=i[0],u=i[1],m=Object(n.useState)(!1),f=Object(p.a)(m,2),b=f[0],g=f[1];return Object(n.useEffect)((function(){!function(e,t){var a,n,r;d.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return g(!1),u(!0),o.prev=2,a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)},o.next=6,d.a.awrap(fetch(e,a));case 6:return n=o.sent,o.next=9,d.a.awrap(n.json());case 9:r=o.sent,c(r),g(!1),u(!1),o.next=19;break;case 15:o.prev=15,o.t0=o.catch(2),g(!0),u(!1);case 19:case"end":return o.stop()}}),null,null,[[2,15]])}(e,t),g(!1),u(!1)}),[e]),{dataPost:o,isLoadingPost:l,isErrorPost:b}},C=a(32),k={formularios:[],qtyFormularios:0},P=function(e,t){var a=e.formularios;switch(t.type){case"SET_JSON":return Object(C.a)({},e,{formularios:t.payload,qtyFormularios:t.payload.length});case"SET_ANSWER":var n=a.findIndex((function(e){return e.id===t.id})),r=t.payload.split("-"),o=r[0],c=r[1],s=r[2];return a[n].preguntas[o].idrespuesta=c,a[n].preguntas[o].respuesta=s,Object(C.a)({},e,{formularios:a});default:return e}},A=a(99),T=a(95),W=a(101),L=a(98),R=a(97),z=a(96),B=a(103),I=Object(l.a)({styledFormsContainer:{marginTop:"60px",height:"calc(100vh - 60px)"},styledFormContainer:{textAlign:"center"}}),J=function(e){var t=e.id,a=e.index,o=e.data,c=e.title,s=e.message,i=e.state,l=e.isError,u=e.dispatch,m=Object(n.useState)(!1),f=Object(p.a)(m,2),b=f[0],g=f[1],E=Object(n.useState)([]),y=Object(p.a)(E,2),h=y[0],j=y[1],v=Object(n.useState)(!1),O=Object(p.a)(v,2),x=O[0],S=O[1],F=Object(n.useState)(!1),N=Object(p.a)(F,2),C=(N[0],N[1]),k=function(){g(!1)},P=function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://f2020.azurewebsites.net/api/FaroFormularioPersonaPost?code=rkmGB0kHPzpU/Nxb7L8NT1PAw6jmOxslIH2eXiyjh9vmFIjFRFblAw==",C(!1),S(!0),t.prev=3,e={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i.formularios[a])},t.next=7,d.a.awrap(fetch("https://f2020.azurewebsites.net/api/FaroFormularioPersonaPost?code=rkmGB0kHPzpU/Nxb7L8NT1PAw6jmOxslIH2eXiyjh9vmFIjFRFblAw==",e));case 7:C(!1),S(!1),g(!1),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),C(!0),S(!1);case 16:case"end":return t.stop()}}),null,null,[[3,12]])};return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{variant:"outlined",color:"primary",onClick:function(){g(!0)}},c),r.a.createElement(W.a,{fullWidth:!0,maxWidth:"md",open:b,onClose:k,"aria-labelledby":"form-dialog-title"},r.a.createElement(z.a,{id:"form-dialog-title"},s.encabezado),r.a.createElement(R.a,{dividers:!0},r.a.createElement(B.a,{fullWidth:!0,component:"fieldset"},r.a.createElement(w,{error:l,data:o&&o,formError:h,setFormAnswer:function(e){u(function(e,t){return{id:e,payload:t,type:"SET_ANSWER"}}(t,e))}}))),r.a.createElement(L.a,null,r.a.createElement(T.a,{onClick:k,color:"primary"},"Cancelar"),r.a.createElement(T.a,{onClick:function(){var e=[];o.forEach((function(t){0===Number(t.idrespuesta)&&(e.push(t.idpregunta),j([].concat(e)))})),e.length||(j([]),P())},color:"primary"},x?"Enviando...":"Enviar"))))},G=function(e){var t=e.cedula,a=I(),o=Object(n.useReducer)(P,k),c=Object(p.a)(o,2),s=c[0],i=c[1],l=N("https://f2020.azurewebsites.net/api/FaroFormulariosPersona?code=nbjfp6Cn8Mx3/WPr3DCwMXV8EZbfw2CB8UIMOTyfW8TYtlBSsbXGqw==",{id:{cedula:t}}),u=l.dataPost,d=l.isLoadingPost,m=l.isErrorPost;return Object(n.useEffect)((function(){!d&&u&&i({payload:u,type:"SET_JSON"})}),[u,d]),r.a.createElement(A.a,{className:a.styledFormsContainer,direction:"row",justify:"center",alignItems:"center",container:!0,spacing:0},u&&!d?u.map((function(e,t){return r.a.createElement(A.a,{key:e.id,className:a.styledFormContainer,item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(J,{index:t,state:s,isError:m,id:e.id,dispatch:i,data:e.preguntas,message:e.mensaje,title:e.idformulario}))})):r.a.createElement(F,null))},H=a(100);var D=function(){var e=new URL(window.location.href).searchParams.get("cedula");return r.a.createElement("div",{className:"App"},r.a.createElement(H.a,null),r.a.createElement(b,{cedula:e}),r.a.createElement(G,{cedula:e}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.91d0089f.chunk.js.map