(this.webpackJsonppolidata=this.webpackJsonppolidata||[]).push([[0],{57:function(e,t,a){e.exports=a(94)},62:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(9),i=a.n(o),c=(a(62),a(127)),l=a(129),s=a(47),u=Object(s.a)({styledAppBar:{backgroundColor:"#0070c0"},logo:{maxWidth:60}}),d=function(){var e=u();return n.a.createElement(c.a,{className:e.styledAppBar},n.a.createElement(l.a,null,n.a.createElement("img",{src:"logo.png",alt:"logo",className:e.logo})))},m=a(18),p=a(138),f=a(142),E=a(130),g=a(140),b=Object(s.a)({styledWarning:function(e){return{color:"#f44336",display:e.visible?"block":"none"}}}),y=Object(s.a)({styledRadioGroup:{flexDirection:"row !important"},styledTextField:{margin:"10px 0 20px !important"},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"65vh"}}),h=function(e){var t=b(e);return n.a.createElement("div",{className:t.styledWarning},"Debe seleccionar una opci\xf3n")},v=function(e){var t=e.data,a=e.error,r=e.setFormAnswer,o=e.formError,i=y(),c=function(e){r(e.target.value)};return n.a.createElement(n.a.Fragment,null,!a&&t.length?t.map((function(e,t){return n.a.createElement("div",{key:e.idpregunta},n.a.createElement(g.a,{component:"legend"},e.pregunta),n.a.createElement(f.a,{className:i.styledRadioGroup,defaultValue:"".concat(t,"-").concat(e.idrespuesta,"-").concat(e.respuesta),onChange:c},e.respuestas.length&&e.respuestas.map((function(e){return n.a.createElement(E.a,{key:e.idrespuesta,value:"".concat(t,"-").concat(e.idrespuesta,"-").concat(e.respuesta),control:n.a.createElement(p.a,{color:"primary"}),label:e.respuesta})}))),n.a.createElement(h,{visible:o&&o.includes(e.idpregunta)}))})):n.a.createElement("h2",null,"Disculpe, ha ocurrido un error"))},O=a(131),j=Object(s.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}})),w=function(){var e=j();return n.a.createElement("div",{className:e.root},n.a.createElement(O.a,{size:60}))},S=a(32),C=a.n(S),x=function(e,t){var a=Object(r.useState)(),n=Object(m.a)(a,2),o=n[0],i=n[1],c=Object(r.useState)(!1),l=Object(m.a)(c,2),s=l[0],u=l[1],d=Object(r.useState)(!1),p=Object(m.a)(d,2),f=p[0],E=p[1];return Object(r.useEffect)((function(){!function(e,t){var a,r,n;C.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return E(!1),u(!0),o.prev=2,a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)},o.next=6,C.a.awrap(fetch(e,a));case 6:return r=o.sent,o.next=9,C.a.awrap(r.json());case 9:n=o.sent,i(n),E(!1),u(!1),o.next=19;break;case 15:o.prev=15,o.t0=o.catch(2),E(!0),u(!1);case 19:case"end":return o.stop()}}),null,null,[[2,15]])}(e,t),E(!1),u(!1)}),[e]),{dataPost:o,isLoadingPost:s,isErrorPost:f}},N=a(24),k=a(37),T=a.n(k),W={formularios:[],qtyFormularios:0,error:{},isOpenDialog:!1,formCompleted:!1,formSubmitted:!1},F=function(e,t){var a=e.formularios;switch(t.type){case"SET_IS_OPEN_DIALOG":return Object(N.a)({},e,{isOpenDialog:t.payload,error:[]});case"SET_JSON":return Object(N.a)({},e,{formularios:t.payload,qtyFormularios:t.payload.length});case"SET_ANSWER":var r=a.findIndex((function(e){return e.id===t.id})),n=t.payload.split("-"),o=n[0],i=n[1],c=n[2];return a[r].preguntas[o].idrespuesta=i,a[r].preguntas[o].respuesta=c,Object(N.a)({},e,{formularios:a});case"SUBMIT_FORM":var l=e.error,s=t.id,u=a.findIndex((function(e){return e.id===t.id}));return a[u].preguntas.forEach((function(e){0===Number(e.idrespuesta)?l[s]&&!l[s].includes(e.idpregunta)?l[s].push(e.idpregunta):l[s]||(l[s]=[e.idpregunta]):l={}})),T()(l)?Object(N.a)({},e,{error:l,isOpenDialog:!1,formCompleted:!0}):Object(N.a)({},e,{error:l});default:return e}},P=a(132),I=a(137),A=a(135),_=a(134),B=a(133),D=a(139),R=Object(s.a)({formsContainer:{height:"90vh",display:"flex",justifyContent:"space-evenly",alignItems:"center"}}),M=function(e){var t=e.id,a=e.data,o=e.title,i=e.message,c=e.state,l=e.isError,s=e.dispatch,u=Object(r.useState)(!1),d=Object(m.a)(u,2),p=d[0],f=d[1],E=function(){f(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(P.a,{variant:"outlined",color:"primary",onClick:function(){f(!0)}},o),n.a.createElement(I.a,{fullWidth:!0,maxWidth:"md",open:p,onClose:E,"aria-labelledby":"form-dialog-title"},n.a.createElement(B.a,{id:"form-dialog-title"},i.encabezado),n.a.createElement(_.a,{dividers:!0},n.a.createElement(D.a,{fullWidth:!0,component:"fieldset"},n.a.createElement(v,{error:l,data:a&&a,formError:c.error[t]&&c.error[t],setFormAnswer:function(e){s(function(e,t){return{id:e,payload:t,type:"SET_ANSWER"}}(t,e))}}))),n.a.createElement(A.a,null,n.a.createElement(P.a,{onClick:E,color:"primary"},"Cancelar"),n.a.createElement(P.a,{onClick:function(){s(function(e){return{id:e,type:"SUBMIT_FORM"}}(t))},color:"primary"},"Enviar"))))},J=function(){var e=R(),t=Object(r.useReducer)(F,W),a=Object(m.a)(t,2),o=a[0],i=a[1],c=new URL(window.location.href).searchParams.get("cedula"),l=x("https://f2020.azurewebsites.net/api/FaroFormulariosPersona?code=nbjfp6Cn8Mx3/WPr3DCwMXV8EZbfw2CB8UIMOTyfW8TYtlBSsbXGqw==",{id:{cedula:c}}),s=l.dataPost,u=l.isLoadingPost,d=l.isErrorPost;return Object(r.useEffect)((function(){!u&&s&&i({payload:s,type:"SET_JSON"})}),[s,u]),n.a.createElement("div",{className:e.formsContainer},s&&!u?s.map((function(e){return n.a.createElement(M,{key:e.id,state:o,isError:d,id:e.id,dispatch:i,data:e.preguntas,message:e.mensaje,title:e.idformulario})})):n.a.createElement(w,null))},L=a(136);var G=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(L.a,null),n.a.createElement(d,null),n.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[57,1,2]]]);
//# sourceMappingURL=main.003be68f.chunk.js.map